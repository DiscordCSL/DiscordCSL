function log(e,n){let t;t="info"==n?"#43b581":"warn"==n?"#faa61a":"error"==n?"#f04747":"#7289da",console.log(`%cDiscord CSL v${manifestVersion}%c ${e}`,`color: ${t}; padding: 3px; border-radius: 4px; background: ${t}22; border-right: 2px solid ${t}; padding-right: 5px; padding-left: 6px; font-weight: bold`,"font-style: italic;","")}function addStyle(){const e=document.createElement("style");e.textContent=`\n[csl-server] div.guildIconContainer-3QvE6w {\n    transform: translate(-6%, 6%)\n}\n[csl-server] .${serverName_class} {\n    display: flex;\n    justify-content: center;\n    position: relative;\n}\n\n/* == Shrink server banners to header instead of disappearing == */\n[csl-server] [class*="animatedContainer-"] {\n    opacity: 1 !important;\n    transition: opacity .5s, blur .5s;\n}\n[csl-server] [class*="animatedContainer-"] > [class*="bannerImage-"] {\n    transition: margin .5s;\n}\n[csl-server] :not([class*="bannerVisible-"]) > [class*="animatedContainer-"] {\n    opacity: .35 !important;\n    filter: blur(2px);\n    height: 138px;\n}\n[csl-server] :not([class*="bannerVisible-"]) > [class*="animatedContainer-"] > [class*="bannerImage-"] {\n    margin-top: -12px;\n}`,document.head.append(e)}const serverHeader_class="container-1NXEtd",serverName_class="name-3Uvkvr",loadingSplash_class="container-2RRFHK",manifestVersion=chrome.runtime.getManifest().version;let data;var getDB=async()=>{const e=await fetch("https://raw.githubusercontent.com/DiscordCSL/database/main/db.json"),n=await e.json();data=n,log("Thanks for installing Custom Server Logos!"),n.latestVersion>manifestVersion?log(`You're running an older version of this plugin. Update to v${n.latestVersion}`,"error"):log("You're running the latest and greatest!","info")},injectLogo=()=>{if(!document.getElementsByClassName(loadingSplash_class)[0]&&"channels"==window.location.pathname.split("/")[1]&&"@me"!=window.location.pathname.split("/")[2])if(document.getElementsByClassName(serverHeader_class)[0].hasAttribute("csl-server"))Error&&!document.getElementsByClassName(serverHeader_class)[0].hasAttribute("csl-server")&&log("No server header found. Try restarting the app and reinstalling the plugin, before reporting any issues.","error");else for(var e=0;e<data.servers.length;e++)data.servers[e].id==window.location.pathname.split("/")[2]&&(document.getElementsByClassName(serverHeader_class)[0].hasAttribute("csl-server")||document.getElementsByClassName(serverHeader_class)[0].setAttribute("csl-server",""),fetch(data.servers[e].logoURL).then(e=>e.text()).then(e=>{document.getElementsByClassName(serverName_class)[0].innerHTML=e}))};window.addEventListener("load",function(){addStyle(),setTimeout(function(){getDB()},3e3),setInterval(injectLogo,0)});